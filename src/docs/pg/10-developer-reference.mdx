
# 📚 개발자 참조

PG 결제 서비스 개발에 필요한 에러 코드, 카드사 식별자, 금융기관 코드 등 모든 참조 정보를 제공합니다.

## 📖 개요

### 🎯 참조 정보 종류

<FeatureGrid features={[
  {
    icon: "⚠️",
    title: "에러 코드",
    description: "PG 공통, 결제수단별 상세 에러 코드와 해결 방법",
    bgColor: "from-red-50 to-red-100",
    borderColor: "border-red-200",
    iconBgColor: "bg-red-500"
  },
  {
    icon: "💳",
    title: "카드사 식별자",
    description: "모든 신용카드사의 고유 식별 코드와 명칭",
    bgColor: "from-hecto-50 to-hecto-100",
    borderColor: "border-hecto-200",
    iconBgColor: "bg-hecto-400"
  },
  {
    icon: "🏦",
    title: "금융기관 코드",
    description: "은행, 증권사, 저축은행 등 모든 금융기관 코드",
    bgColor: "from-hecto-50 to-hecto-100",
    borderColor: "border-hecto-200",
    iconBgColor: "bg-hecto-400"
  }
]} />

---

## ⚠️ 에러 코드표

### 🔧 PG 공통 응답 코드

결제 서비스 전반에서 사용되는 공통 에러 코드입니다.

<div className="overflow-x-auto my-6">
  <table className="min-w-full divide-y divide-gray-200 border border-gray-300 rounded-lg">
    <thead className="bg-gray-50">
      <tr>
        <th className="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">코드</th>
        <th className="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">내용</th>
        <th className="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">코드</th>
        <th className="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">내용</th>
      </tr>
    </thead>
    <tbody className="bg-white divide-y divide-gray-200">
      <tr>
        <td className="px-4 py-3 text-sm font-mono text-green-600">0000</td>
        <td className="px-4 py-3 text-sm text-gray-900">정상처리</td>
        <td className="px-4 py-3 text-sm font-mono text-gray-600">0009</td>
        <td className="px-4 py-3 text-sm text-gray-900">사용자취소</td>
      </tr>
      <tr>
        <td className="px-4 py-3 text-sm font-mono text-red-600">1001</td>
        <td className="px-4 py-3 text-sm text-gray-900">결제 요청 정보 누락(상점아이디)</td>
        <td className="px-4 py-3 text-sm font-mono text-red-600">1002</td>
        <td className="px-4 py-3 text-sm text-gray-900">결제 요청 정보 누락(결제수단)</td>
      </tr>
      <tr>
        <td className="px-4 py-3 text-sm font-mono text-red-600">1003</td>
        <td className="px-4 py-3 text-sm text-gray-900">결제 요청 정보 누락(거래일자)</td>
        <td className="px-4 py-3 text-sm font-mono text-red-600">1004</td>
        <td className="px-4 py-3 text-sm text-gray-900">결제 요청 정보 누락(거래시간)</td>
      </tr>
      <tr>
        <td className="px-4 py-3 text-sm font-mono text-red-600">1005</td>
        <td className="px-4 py-3 text-sm text-gray-900">결제 요청 정보 누락(상점주문번호)</td>
        <td className="px-4 py-3 text-sm font-mono text-red-600">1006</td>
        <td className="px-4 py-3 text-sm text-gray-900">결제 요청 정보 누락(상점한글명)</td>
      </tr>
      <tr>
        <td className="px-4 py-3 text-sm font-mono text-red-600">1007</td>
        <td className="px-4 py-3 text-sm text-gray-900">결제 요청 정보 누락(상점영문명)</td>
        <td className="px-4 py-3 text-sm font-mono text-red-600">1008</td>
        <td className="px-4 py-3 text-sm text-gray-900">결제 요청 정보 누락(상품명)</td>
      </tr>
      <tr>
        <td className="px-4 py-3 text-sm font-mono text-red-600">1009</td>
        <td className="px-4 py-3 text-sm text-gray-900">결제 요청 정보 누락(거래금액)</td>
        <td className="px-4 py-3 text-sm font-mono text-red-600">1010</td>
        <td className="px-4 py-3 text-sm text-gray-900">결제 요청 정보 누락(결과처리URL)</td>
      </tr>
      <tr>
        <td className="px-4 py-3 text-sm font-mono text-red-600">1011</td>
        <td className="px-4 py-3 text-sm text-gray-900">결제 요청 정보 누락(결과화면URL)</td>
        <td className="px-4 py-3 text-sm font-mono text-red-600">1012</td>
        <td className="px-4 py-3 text-sm text-gray-900">결제 요청 정보 누락(결제취소URL)</td>
      </tr>
      <tr>
        <td className="px-4 py-3 text-sm font-mono text-red-600">1901</td>
        <td className="px-4 py-3 text-sm text-gray-900">해쉬값 불일치 오류</td>
        <td className="px-4 py-3 text-sm font-mono text-red-600">1902</td>
        <td className="px-4 py-3 text-sm text-gray-900">암호화 항목 미처리 오류</td>
      </tr>
      <tr>
        <td className="px-4 py-3 text-sm font-mono text-red-600">2001</td>
        <td className="px-4 py-3 text-sm text-gray-900">보안숫자가 일치하지 않음</td>
        <td className="px-4 py-3 text-sm font-mono text-red-600">2002</td>
        <td className="px-4 py-3 text-sm text-gray-900">보안숫자 인증 횟수 초과</td>
      </tr>
      <tr>
        <td className="px-4 py-3 text-sm font-mono text-red-600">2003</td>
        <td className="px-4 py-3 text-sm text-gray-900">인증 시간 초과</td>
        <td className="px-4 py-3 text-sm font-mono text-red-600">9999</td>
        <td className="px-4 py-3 text-sm text-gray-900">내부 시스템 오류</td>
      </tr>
    </tbody>
  </table>
</div>

### 💳 신용카드 응답 코드

신용카드 결제 관련 상세 에러 코드입니다.

<div className="overflow-x-auto my-6">
  <table className="min-w-full divide-y divide-gray-200 border border-gray-300 rounded-lg">
    <thead className="bg-blue-50">
      <tr>
        <th className="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">코드</th>
        <th className="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">내용</th>
        <th className="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">코드</th>
        <th className="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">내용</th>
      </tr>
    </thead>
    <tbody className="bg-white divide-y divide-gray-200">
      <tr>
        <td className="px-4 py-3 text-sm font-mono text-red-600">CA01</td>
        <td className="px-4 py-3 text-sm text-gray-900">원천사 점검</td>
        <td className="px-4 py-3 text-sm font-mono text-red-600">CA02</td>
        <td className="px-4 py-3 text-sm text-gray-900">원천사 장애</td>
      </tr>
      <tr>
        <td className="px-4 py-3 text-sm font-mono text-red-600">CA03</td>
        <td className="px-4 py-3 text-sm text-gray-900">전문 유효성 체크</td>
        <td className="px-4 py-3 text-sm font-mono text-red-600">CA04</td>
        <td className="px-4 py-3 text-sm text-gray-900">결제 중계사 장애</td>
      </tr>
      <tr>
        <td className="px-4 py-3 text-sm font-mono text-red-600">CA10</td>
        <td className="px-4 py-3 text-sm text-gray-900">거래정보 없음</td>
        <td className="px-4 py-3 text-sm font-mono text-red-600">CA11</td>
        <td className="px-4 py-3 text-sm text-gray-900">기매입 거래</td>
      </tr>
      <tr>
        <td className="px-4 py-3 text-sm font-mono text-red-600">CA12</td>
        <td className="px-4 py-3 text-sm text-gray-900">기취소 거래</td>
        <td className="px-4 py-3 text-sm font-mono text-red-600">CA20</td>
        <td className="px-4 py-3 text-sm text-gray-900">카드 유효기간이 유효하지 않습니다</td>
      </tr>
      <tr>
        <td className="px-4 py-3 text-sm font-mono text-red-600">CA26</td>
        <td className="px-4 py-3 text-sm text-gray-900">사용횟수 초과</td>
        <td className="px-4 py-3 text-sm font-mono text-red-600">CA30</td>
        <td className="px-4 py-3 text-sm text-gray-900">식별번호 오류</td>
      </tr>
      <tr>
        <td className="px-4 py-3 text-sm font-mono text-red-600">CA38</td>
        <td className="px-4 py-3 text-sm text-gray-900">포인트한도 미달로 거래 불가</td>
        <td className="px-4 py-3 text-sm font-mono text-red-600">CA42</td>
        <td className="px-4 py-3 text-sm text-gray-900">1000원 미만 99,999,999원 이상 금액 거래 불가</td>
      </tr>
      <tr>
        <td className="px-4 py-3 text-sm font-mono text-red-600">CA58</td>
        <td className="px-4 py-3 text-sm text-gray-900">미등록 카드입니다. 카드사로 문의해 주세요</td>
        <td className="px-4 py-3 text-sm font-mono text-red-600">CA59</td>
        <td className="px-4 py-3 text-sm text-gray-900">법인카드는 거래가 불가능합니다</td>
      </tr>
      <tr>
        <td className="px-4 py-3 text-sm font-mono text-red-600">CA70</td>
        <td className="px-4 py-3 text-sm text-gray-900">식별번호(생년월일/사업자번호)+비밀번호가 유효하지 않음</td>
        <td className="px-4 py-3 text-sm font-mono text-red-600">CA82</td>
        <td className="px-4 py-3 text-sm text-gray-900">카드사 전화 요망</td>
      </tr>
      <tr>
        <td className="px-4 py-3 text-sm font-mono text-red-600">CA86</td>
        <td className="px-4 py-3 text-sm text-gray-900">이중 거래 입니다</td>
        <td className="px-4 py-3 text-sm font-mono text-red-600">CA88</td>
        <td className="px-4 py-3 text-sm text-gray-900">해당 선불카드(기프트카드)는 부분취소가 불가합니다</td>
      </tr>
    </tbody>
  </table>
</div>

### 📱 휴대폰 결제 응답 코드

<div className="overflow-x-auto my-6">
  <table className="min-w-full divide-y divide-gray-200 border border-gray-300 rounded-lg">
    <thead className="bg-purple-50">
      <tr>
        <th className="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">코드</th>
        <th className="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">내용</th>
        <th className="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">코드</th>
        <th className="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">내용</th>
      </tr>
    </thead>
    <tbody className="bg-white divide-y divide-gray-200">
      <tr>
        <td className="px-4 py-3 text-sm font-mono text-red-600">MP01</td>
        <td className="px-4 py-3 text-sm text-gray-900">요청자료 오류</td>
        <td className="px-4 py-3 text-sm font-mono text-red-600">MP02</td>
        <td className="px-4 py-3 text-sm text-gray-900">요청정보 불일치</td>
      </tr>
      <tr>
        <td className="px-4 py-3 text-sm font-mono text-red-600">MP03</td>
        <td className="px-4 py-3 text-sm text-gray-900">결제정보 없음</td>
        <td className="px-4 py-3 text-sm font-mono text-red-600">MP04</td>
        <td className="px-4 py-3 text-sm text-gray-900">미등록 가맹점/서비스</td>
      </tr>
      <tr>
        <td className="px-4 py-3 text-sm font-mono text-red-600">MP14&#126;MP17</td>
        <td className="px-4 py-3 text-sm text-gray-900">이통사소액결제 이용 불가</td>
        <td className="px-4 py-3 text-sm font-mono text-red-600">MP18&#126;MP19</td>
        <td className="px-4 py-3 text-sm text-gray-900">이통사소액결제 이용 동의</td>
      </tr>
      <tr>
        <td className="px-4 py-3 text-sm font-mono text-red-600">MP22</td>
        <td className="px-4 py-3 text-sm text-gray-900">이통사 자동결제 차단</td>
        <td className="px-4 py-3 text-sm font-mono text-red-600">MP23&#126;MP26</td>
        <td className="px-4 py-3 text-sm text-gray-900">한도 초과</td>
      </tr>
      <tr>
        <td className="px-4 py-3 text-sm font-mono text-red-600">MP45</td>
        <td className="px-4 py-3 text-sm text-gray-900">월자동결제 전월 정보 없음</td>
        <td className="px-4 py-3 text-sm font-mono text-red-600">MP80</td>
        <td className="px-4 py-3 text-sm text-gray-900">취소 실패</td>
      </tr>
      <tr>
        <td className="px-4 py-3 text-sm font-mono text-red-600">MP81</td>
        <td className="px-4 py-3 text-sm text-gray-900">취소 기간 경과</td>
        <td className="px-4 py-3 text-sm font-mono text-red-600">MP82</td>
        <td className="px-4 py-3 text-sm text-gray-900">기 취소 거래</td>
      </tr>
      <tr>
        <td className="px-4 py-3 text-sm font-mono text-red-600">MP99</td>
        <td className="px-4 py-3 text-sm text-gray-900">결제창 인증 취소 처리</td>
        <td className="px-4 py-3 text-sm font-mono text-gray-600">-</td>
        <td className="px-4 py-3 text-sm text-gray-900">-</td>
      </tr>
    </tbody>
  </table>
</div>

### 🏦 계좌이체 응답 코드

<div className="overflow-x-auto my-6">
  <table className="min-w-full divide-y divide-gray-200 border border-gray-300 rounded-lg">
    <thead className="bg-green-50">
      <tr>
        <th className="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">코드</th>
        <th className="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">내용</th>
        <th className="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">코드</th>
        <th className="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">내용</th>
      </tr>
    </thead>
    <tbody className="bg-white divide-y divide-gray-200">
      <tr>
        <td className="px-4 py-3 text-sm font-mono text-red-600">RA01</td>
        <td className="px-4 py-3 text-sm text-gray-900">이체횟수 초과</td>
        <td className="px-4 py-3 text-sm font-mono text-red-600">RA05</td>
        <td className="px-4 py-3 text-sm text-gray-900">잔액부족</td>
      </tr>
      <tr>
        <td className="px-4 py-3 text-sm font-mono text-red-600">RA14</td>
        <td className="px-4 py-3 text-sm text-gray-900">금액초과</td>
        <td className="px-4 py-3 text-sm font-mono text-red-600">RA16</td>
        <td className="px-4 py-3 text-sm text-gray-900">중복 결제</td>
      </tr>
      <tr>
        <td className="px-4 py-3 text-sm font-mono text-red-600">RA20</td>
        <td className="px-4 py-3 text-sm text-gray-900">은행정보 없음</td>
        <td className="px-4 py-3 text-sm font-mono text-red-600">RA21</td>
        <td className="px-4 py-3 text-sm text-gray-900">계좌번호 상태 에러</td>
      </tr>
      <tr>
        <td className="px-4 py-3 text-sm font-mono text-red-600">RA33</td>
        <td className="px-4 py-3 text-sm text-gray-900">기취소 거래</td>
        <td className="px-4 py-3 text-sm font-mono text-red-600">RA88</td>
        <td className="px-4 py-3 text-sm text-gray-900">은행 업무종료</td>
      </tr>
    </tbody>
  </table>
</div>

### ⚡ 간편결제 응답 코드

<div className="overflow-x-auto my-6">
  <table className="min-w-full divide-y divide-gray-200 border border-gray-300 rounded-lg">
    <thead className="bg-yellow-50">
      <tr>
        <th className="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">코드</th>
        <th className="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">내용</th>
        <th className="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">코드</th>
        <th className="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">내용</th>
      </tr>
    </thead>
    <tbody className="bg-white divide-y divide-gray-200">
      <tr>
        <td className="px-4 py-3 text-sm font-mono text-red-600">PZ01, PZ05</td>
        <td className="px-4 py-3 text-sm text-gray-900">원천사 점검</td>
        <td className="px-4 py-3 text-sm font-mono text-red-600">PZ02</td>
        <td className="px-4 py-3 text-sm text-gray-900">원천사 장애</td>
      </tr>
      <tr>
        <td className="px-4 py-3 text-sm font-mono text-red-600">PZ03</td>
        <td className="px-4 py-3 text-sm text-gray-900">결제 중계 오류</td>
        <td className="px-4 py-3 text-sm font-mono text-red-600">PZ04</td>
        <td className="px-4 py-3 text-sm text-gray-900">허용되지 않은 접근</td>
      </tr>
      <tr>
        <td className="px-4 py-3 text-sm font-mono text-red-600">PZ06</td>
        <td className="px-4 py-3 text-sm text-gray-900">유효하지 않은 계좌</td>
        <td className="px-4 py-3 text-sm font-mono text-red-600">PZ07</td>
        <td className="px-4 py-3 text-sm text-gray-900">유효하지 않은 카드번호</td>
      </tr>
      <tr>
        <td className="px-4 py-3 text-sm font-mono text-red-600">PZ31</td>
        <td className="px-4 py-3 text-sm text-gray-900">해당거래불가가맹점</td>
        <td className="px-4 py-3 text-sm font-mono text-red-600">PZ45</td>
        <td className="px-4 py-3 text-sm text-gray-900">인증 오류 횟수 초과</td>
      </tr>
      <tr>
        <td className="px-4 py-3 text-sm font-mono text-red-600">PZ72</td>
        <td className="px-4 py-3 text-sm text-gray-900">쿠폰 사용 불가합니다</td>
        <td className="px-4 py-3 text-sm font-mono text-red-600">PZ74</td>
        <td className="px-4 py-3 text-sm text-gray-900">카드사 전화 요망</td>
      </tr>
      <tr>
        <td className="px-4 py-3 text-sm font-mono text-red-600">PZ87</td>
        <td className="px-4 py-3 text-sm text-gray-900">기취소 거래</td>
        <td className="px-4 py-3 text-sm font-mono text-red-600">PZ91</td>
        <td className="px-4 py-3 text-sm text-gray-900">할인 적용 불가</td>
      </tr>
    </tbody>
  </table>
</div>

### 🎁 상품권 응답 코드

<div className="overflow-x-auto my-6">
  <table className="min-w-full divide-y divide-gray-200 border border-gray-300 rounded-lg">
    <thead className="bg-pink-50">
      <tr>
        <th className="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">코드</th>
        <th className="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">내용</th>
        <th className="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">코드</th>
        <th className="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">내용</th>
      </tr>
    </thead>
    <tbody className="bg-white divide-y divide-gray-200">
      <tr>
        <td className="px-4 py-3 text-sm font-mono text-red-600">GC01</td>
        <td className="px-4 py-3 text-sm text-gray-900">요청자료 오류</td>
        <td className="px-4 py-3 text-sm font-mono text-red-600">GC03</td>
        <td className="px-4 py-3 text-sm text-gray-900">결제정보 없음</td>
      </tr>
      <tr>
        <td className="px-4 py-3 text-sm font-mono text-red-600">GC06</td>
        <td className="px-4 py-3 text-sm text-gray-900">중복결제 오류</td>
        <td className="px-4 py-3 text-sm font-mono text-red-600">GC07</td>
        <td className="px-4 py-3 text-sm text-gray-900">한도초과</td>
      </tr>
      <tr>
        <td className="px-4 py-3 text-sm font-mono text-red-600">GC40</td>
        <td className="px-4 py-3 text-sm text-gray-900">취소 실패</td>
        <td className="px-4 py-3 text-sm font-mono text-red-600">GC41</td>
        <td className="px-4 py-3 text-sm text-gray-900">취소 기처리</td>
      </tr>
      <tr>
        <td className="px-4 py-3 text-sm font-mono text-red-600">GC42</td>
        <td className="px-4 py-3 text-sm text-gray-900">취소 불가</td>
        <td className="px-4 py-3 text-sm font-mono text-red-600">ST90</td>
        <td className="px-4 py-3 text-sm text-gray-900">상품권류 개별 Alert창 출력</td>
      </tr>
    </tbody>
  </table>
</div>

### 🔧 에러 코드 활용 예시

```javascript
// 에러 코드 분석 함수
function analyzeErrorCode(errorCode, paymentMethod) {
    const errorInfo = {
        code: errorCode,
        method: paymentMethod,
        category: getErrorCategory(errorCode),
        severity: getErrorSeverity(errorCode),
        userMessage: getUserMessage(errorCode),
        techMessage: getTechMessage(errorCode),
        retryable: isRetryable(errorCode),
        actionRequired: getRequiredAction(errorCode)
    };
    
    return errorInfo;
}

// 에러 카테고리 분류
function getErrorCategory(errorCode) {
    if (errorCode.startsWith('CA')) return 'credit_card';
    if (errorCode.startsWith('MP')) return 'mobile_payment';
    if (errorCode.startsWith('RA')) return 'bank_transfer';
    if (errorCode.startsWith('PZ')) return 'simple_payment';
    if (errorCode.startsWith('GC')) return 'gift_card';
    if (errorCode.startsWith('ST')) return 'system';
    if (errorCode.startsWith('19')) return 'security';
    return 'general';
}

// 에러 심각도 판정
function getErrorSeverity(errorCode) {
    const criticalCodes = ['9999', 'ST10', 'CA02', 'PZ02'];
    const warningCodes = ['0009', '2003', 'CA01', 'PZ01'];
    
    if (criticalCodes.includes(errorCode)) return 'critical';
    if (warningCodes.includes(errorCode)) return 'warning';
    return 'normal';
}

// 사용자 메시지 생성
function getUserMessage(errorCode) {
    const userMessages = {
        '0009': '결제가 취소되었습니다.',
        '1901': '결제 정보에 오류가 있습니다. 다시 시도해주세요.',
        'CA20': '카드 유효기간을 확인해주세요.',
        'CA58': '등록되지 않은 카드입니다. 카드사에 문의해주세요.',
        'MP23': '휴대폰 결제 한도를 초과했습니다.',
        'RA05': '계좌 잔액이 부족합니다.',
        'PZ72': '쿠폰을 사용할 수 없습니다.',
        'GC07': '상품권 결제 한도를 초과했습니다.'
    };
    
    return userMessages[errorCode] || '결제 처리 중 오류가 발생했습니다. 잠시 후 다시 시도해주세요.';
}

// 재시도 가능 여부 판정
function isRetryable(errorCode) {
    const nonRetryableCodes = [
        'CA58', 'CA59', 'CA88', // 카드 상태 문제
        'MP81', 'MP82',         // 취소 관련
        'RA33',                 // 기취소 거래
        'PZ87',                 // 기취소 거래
        'GC41', 'GC42'          // 취소 관련
    ];
    
    return !nonRetryableCodes.includes(errorCode);
}

// 사용 예시
const error = analyzeErrorCode('CA20', 'credit_card');
console.log('에러 분석 결과:', error);

if (error.retryable) {
    console.log('재시도 가능한 오류입니다.');
} else {
    console.log('사용자 액션이 필요한 오류입니다:', error.userMessage);
}
```

---

## 💳 신용카드 식별자

모든 신용카드사의 고유 식별 코드와 명칭입니다.

<div className="overflow-x-auto my-6">
  <table className="min-w-full divide-y divide-gray-200 border border-gray-300 rounded-lg">
    <thead className="bg-blue-50">
      <tr>
        <th className="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">카드사 코드</th>
        <th className="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">카드사 명</th>
        <th className="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">카드사 코드</th>
        <th className="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">카드사 명</th>
      </tr>
    </thead>
    <tbody className="bg-white divide-y divide-gray-200">
      <tr>
        <td className="px-4 py-3 text-sm font-mono text-blue-600">BCC</td>
        <td className="px-4 py-3 text-sm text-gray-900">비씨</td>
        <td className="px-4 py-3 text-sm font-mono text-blue-600">KBC</td>
        <td className="px-4 py-3 text-sm text-gray-900">국민</td>
      </tr>
      <tr>
        <td className="px-4 py-3 text-sm font-mono text-blue-600">HNC</td>
        <td className="px-4 py-3 text-sm text-gray-900">하나(외환)</td>
        <td className="px-4 py-3 text-sm font-mono text-blue-600">SSC</td>
        <td className="px-4 py-3 text-sm text-gray-900">삼성</td>
      </tr>
      <tr>
        <td className="px-4 py-3 text-sm font-mono text-blue-600">SHN</td>
        <td className="px-4 py-3 text-sm text-gray-900">신한</td>
        <td className="px-4 py-3 text-sm font-mono text-blue-600">WRI</td>
        <td className="px-4 py-3 text-sm text-gray-900">우리</td>
      </tr>
      <tr>
        <td className="px-4 py-3 text-sm font-mono text-blue-600">HDC</td>
        <td className="px-4 py-3 text-sm text-gray-900">현대</td>
        <td className="px-4 py-3 text-sm font-mono text-blue-600">LTC</td>
        <td className="px-4 py-3 text-sm text-gray-900">롯데</td>
      </tr>
      <tr>
        <td className="px-4 py-3 text-sm font-mono text-blue-600">007</td>
        <td className="px-4 py-3 text-sm text-gray-900">수협</td>
        <td className="px-4 py-3 text-sm font-mono text-blue-600">NHC</td>
        <td className="px-4 py-3 text-sm text-gray-900">NH농협</td>
      </tr>
      <tr>
        <td className="px-4 py-3 text-sm font-mono text-blue-600">035</td>
        <td className="px-4 py-3 text-sm text-gray-900">제주</td>
        <td className="px-4 py-3 text-sm font-mono text-blue-600">034</td>
        <td className="px-4 py-3 text-sm text-gray-900">광주</td>
      </tr>
      <tr>
        <td className="px-4 py-3 text-sm font-mono text-blue-600">037</td>
        <td className="px-4 py-3 text-sm text-gray-900">전북</td>
        <td className="px-4 py-3 text-sm font-mono text-blue-600">027</td>
        <td className="px-4 py-3 text-sm text-gray-900">시티</td>
      </tr>
      <tr>
        <td className="px-4 py-3 text-sm font-mono text-blue-600">218</td>
        <td className="px-4 py-3 text-sm text-gray-900">KB증권</td>
        <td className="px-4 py-3 text-sm font-mono text-blue-600">050</td>
        <td className="px-4 py-3 text-sm text-gray-900">저축은행</td>
      </tr>
      <tr>
        <td className="px-4 py-3 text-sm font-mono text-blue-600">071</td>
        <td className="px-4 py-3 text-sm text-gray-900">우체국</td>
        <td className="px-4 py-3 text-sm font-mono text-blue-600">048</td>
        <td className="px-4 py-3 text-sm text-gray-900">신협</td>
      </tr>
      <tr>
        <td className="px-4 py-3 text-sm font-mono text-blue-600">002</td>
        <td className="px-4 py-3 text-sm text-gray-900">산업</td>
        <td className="px-4 py-3 text-sm font-mono text-blue-600">090</td>
        <td className="px-4 py-3 text-sm text-gray-900">카카오뱅크</td>
      </tr>
      <tr>
        <td className="px-4 py-3 text-sm font-mono text-blue-600">089</td>
        <td className="px-4 py-3 text-sm text-gray-900">케이뱅크</td>
        <td className="px-4 py-3 text-sm font-mono text-blue-600">KBP</td>
        <td className="px-4 py-3 text-sm text-gray-900">KBPay</td>
      </tr>
      <tr>
        <td className="px-4 py-3 text-sm font-mono text-blue-600">SSP</td>
        <td className="px-4 py-3 text-sm text-gray-900">삼성페이</td>
        <td className="px-4 py-3 text-sm font-mono text-blue-600">1QP</td>
        <td className="px-4 py-3 text-sm text-gray-900">1QPay</td>
      </tr>
      <tr>
        <td className="px-4 py-3 text-sm font-mono text-blue-600">247</td>
        <td className="px-4 py-3 text-sm text-gray-900">새마을</td>
        <td className="px-4 py-3 text-sm font-mono text-gray-600">-</td>
        <td className="px-4 py-3 text-sm text-gray-900">-</td>
      </tr>
    </tbody>
  </table>
</div>

### 💻 카드사 코드 활용 예시

```javascript
// 카드사 정보 매핑
const CARD_COMPANIES = {
    'BCC': { name: '비씨', type: 'major', logo: 'bc.png' },
    'KBC': { name: '국민', type: 'major', logo: 'kb.png' },
    'HNC': { name: '하나(외환)', type: 'major', logo: 'hana.png' },
    'SSC': { name: '삼성', type: 'major', logo: 'samsung.png' },
    'SHN': { name: '신한', type: 'major', logo: 'shinhan.png' },
    'WRI': { name: '우리', type: 'major', logo: 'woori.png' },
    'HDC': { name: '현대', type: 'major', logo: 'hyundai.png' },
    'LTC': { name: '롯데', type: 'major', logo: 'lotte.png' },
    'NHC': { name: 'NH농협', type: 'major', logo: 'nh.png' },
    '090': { name: '카카오뱅크', type: 'digital', logo: 'kakao.png' },
    '089': { name: '케이뱅크', type: 'digital', logo: 'kbank.png' },
    'SSP': { name: '삼성페이', type: 'pay', logo: 'samsungpay.png' }
};

// 카드사 정보 조회 함수
function getCardCompanyInfo(cardCode) {
    const company = CARD_COMPANIES[cardCode];
    if (!company) {
        return {
            code: cardCode,
            name: '기타 카드사',
            type: 'other',
            logo: 'default.png'
        };
    }
    
    return {
        code: cardCode,
        ...company
    };
}

// 결제 완료 후 카드 정보 표시
function displayPaymentResult(paymentResult) {
    const cardInfo = getCardCompanyInfo(paymentResult.cardCd);
    
    console.log(`결제 완료: ${cardInfo.name} (${paymentResult.cardNo})`);
    console.log(`승인번호: ${paymentResult.cardApprNo}`);
    console.log(`할부: ${paymentResult.instmtMon === '00' ? '일시불' : paymentResult.instmtMon + '개월'}`);
    
    // UI에 카드사 로고 표시
    document.getElementById('card-logo').src = `/images/cards/${cardInfo.logo}`;
    document.getElementById('card-name').textContent = cardInfo.name;
}

// 카드사별 특별 처리
function handleSpecialCardRules(cardCode, amount) {
    const rules = {
        'BCC': { minAmount: 1000, maxInstallment: 24 },
        'SSP': { minAmount: 100, maxInstallment: 0 }, // 삼성페이는 할부 불가
        '090': { minAmount: 1000, maxInstallment: 12 }, // 카카오뱅크
        '089': { minAmount: 1000, maxInstallment: 12 }  // 케이뱅크
    };
    
    const rule = rules[cardCode];
    if (rule) {
        if (amount < rule.minAmount) {
            return { valid: false, message: `${rule.minAmount}원 이상 결제 가능합니다.` };
        }
    }
    
    return { valid: true };
}
```

---

## 🏦 금융기관 식별자

은행, 증권사, 저축은행 등 모든 금융기관의 고유 식별 코드입니다.

<div className="overflow-x-auto my-6">
  <table className="min-w-full divide-y divide-gray-200 border border-gray-300 rounded-lg">
    <thead className="bg-green-50">
      <tr>
        <th className="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">기관 코드</th>
        <th className="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">금융기관 명</th>
        <th className="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">기관 코드</th>
        <th className="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">금융기관 명</th>
      </tr>
    </thead>
    <tbody className="bg-white divide-y divide-gray-200">
      <tr className="bg-blue-50">
        <td className="px-4 py-3 text-sm font-mono text-green-600" colspan="4"><strong>주요 은행</strong></td>
      </tr>
      <tr>
        <td className="px-4 py-3 text-sm font-mono text-green-600">002</td>
        <td className="px-4 py-3 text-sm text-gray-900">산업은행</td>
        <td className="px-4 py-3 text-sm font-mono text-green-600">003</td>
        <td className="px-4 py-3 text-sm text-gray-900">기업은행</td>
      </tr>
      <tr>
        <td className="px-4 py-3 text-sm font-mono text-green-600">004</td>
        <td className="px-4 py-3 text-sm text-gray-900">국민은행</td>
        <td className="px-4 py-3 text-sm font-mono text-green-600">007</td>
        <td className="px-4 py-3 text-sm text-gray-900">수협은행/수협중앙회</td>
      </tr>
      <tr>
        <td className="px-4 py-3 text-sm font-mono text-green-600">011</td>
        <td className="px-4 py-3 text-sm text-gray-900">NH농협</td>
        <td className="px-4 py-3 text-sm font-mono text-green-600">020</td>
        <td className="px-4 py-3 text-sm text-gray-900">우리은행</td>
      </tr>
      <tr>
        <td className="px-4 py-3 text-sm font-mono text-green-600">023</td>
        <td className="px-4 py-3 text-sm text-gray-900">SC 제일은행</td>
        <td className="px-4 py-3 text-sm font-mono text-green-600">027</td>
        <td className="px-4 py-3 text-sm text-gray-900">한국씨티은행</td>
      </tr>
      <tr>
        <td className="px-4 py-3 text-sm font-mono text-green-600">081</td>
        <td className="px-4 py-3 text-sm text-gray-900">KEB 하나은행</td>
        <td className="px-4 py-3 text-sm font-mono text-green-600">088</td>
        <td className="px-4 py-3 text-sm text-gray-900">신한은행</td>
      </tr>
      <tr className="bg-purple-50">
        <td className="px-4 py-3 text-sm font-mono text-green-600" colspan="4"><strong>디지털 은행</strong></td>
      </tr>
      <tr>
        <td className="px-4 py-3 text-sm font-mono text-green-600">089</td>
        <td className="px-4 py-3 text-sm text-gray-900">K뱅크</td>
        <td className="px-4 py-3 text-sm font-mono text-green-600">090</td>
        <td className="px-4 py-3 text-sm text-gray-900">카카오뱅크</td>
      </tr>
      <tr>
        <td className="px-4 py-3 text-sm font-mono text-green-600">092</td>
        <td className="px-4 py-3 text-sm text-gray-900">토스뱅크</td>
        <td className="px-4 py-3 text-sm font-mono text-gray-600">-</td>
        <td className="px-4 py-3 text-sm text-gray-900">-</td>
      </tr>
      <tr className="bg-yellow-50">
        <td className="px-4 py-3 text-sm font-mono text-green-600" colspan="4"><strong>지방은행</strong></td>
      </tr>
      <tr>
        <td className="px-4 py-3 text-sm font-mono text-green-600">031</td>
        <td className="px-4 py-3 text-sm text-gray-900">iM뱅크(대구은행)</td>
        <td className="px-4 py-3 text-sm font-mono text-green-600">032</td>
        <td className="px-4 py-3 text-sm text-gray-900">부산은행</td>
      </tr>
      <tr>
        <td className="px-4 py-3 text-sm font-mono text-green-600">034</td>
        <td className="px-4 py-3 text-sm text-gray-900">광주은행</td>
        <td className="px-4 py-3 text-sm font-mono text-green-600">035</td>
        <td className="px-4 py-3 text-sm text-gray-900">제주은행</td>
      </tr>
      <tr>
        <td className="px-4 py-3 text-sm font-mono text-green-600">037</td>
        <td className="px-4 py-3 text-sm text-gray-900">전북은행</td>
        <td className="px-4 py-3 text-sm font-mono text-green-600">039</td>
        <td className="px-4 py-3 text-sm text-gray-900">경남은행</td>
      </tr>
      <tr className="bg-orange-50">
        <td className="px-4 py-3 text-sm font-mono text-green-600" colspan="4"><strong>증권사</strong></td>
      </tr>
      <tr>
        <td className="px-4 py-3 text-sm font-mono text-green-600">209</td>
        <td className="px-4 py-3 text-sm text-gray-900">유안타증권</td>
        <td className="px-4 py-3 text-sm font-mono text-green-600">218</td>
        <td className="px-4 py-3 text-sm text-gray-900">KB증권</td>
      </tr>
      <tr>
        <td className="px-4 py-3 text-sm font-mono text-green-600">238</td>
        <td className="px-4 py-3 text-sm text-gray-900">미래에셋증권</td>
        <td className="px-4 py-3 text-sm font-mono text-green-600">240</td>
        <td className="px-4 py-3 text-sm text-gray-900">삼성증권</td>
      </tr>
      <tr>
        <td className="px-4 py-3 text-sm font-mono text-green-600">243</td>
        <td className="px-4 py-3 text-sm text-gray-900">한국투자증권</td>
        <td className="px-4 py-3 text-sm font-mono text-green-600">264</td>
        <td className="px-4 py-3 text-sm text-gray-900">키움증권</td>
      </tr>
      <tr>
        <td className="px-4 py-3 text-sm font-mono text-green-600">270</td>
        <td className="px-4 py-3 text-sm text-gray-900">하나금융투자</td>
        <td className="px-4 py-3 text-sm font-mono text-green-600">271</td>
        <td className="px-4 py-3 text-sm text-gray-900">토스증권</td>
      </tr>
      <tr>
        <td className="px-4 py-3 text-sm font-mono text-green-600">278</td>
        <td className="px-4 py-3 text-sm text-gray-900">신한금융투자</td>
        <td className="px-4 py-3 text-sm font-mono text-green-600">287</td>
        <td className="px-4 py-3 text-sm text-gray-900">메리츠종합금융증권</td>
      </tr>
      <tr className="bg-gray-50">
        <td className="px-4 py-3 text-sm font-mono text-green-600" colspan="4"><strong>기타 금융기관</strong></td>
      </tr>
      <tr>
        <td className="px-4 py-3 text-sm font-mono text-green-600">045</td>
        <td className="px-4 py-3 text-sm text-gray-900">새마을금고중앙회</td>
        <td className="px-4 py-3 text-sm font-mono text-green-600">048</td>
        <td className="px-4 py-3 text-sm text-gray-900">신협중앙회</td>
      </tr>
      <tr>
        <td className="px-4 py-3 text-sm font-mono text-green-600">050</td>
        <td className="px-4 py-3 text-sm text-gray-900">상호저축은행</td>
        <td className="px-4 py-3 text-sm font-mono text-green-600">071</td>
        <td className="px-4 py-3 text-sm text-gray-900">우체국</td>
      </tr>
      <tr>
        <td className="px-4 py-3 text-sm font-mono text-green-600">103</td>
        <td className="px-4 py-3 text-sm text-gray-900">SBI 저축은행</td>
        <td className="px-4 py-3 text-sm font-mono text-gray-600">-</td>
        <td className="px-4 py-3 text-sm text-gray-900">-</td>
      </tr>
    </tbody>
  </table>
</div>

### 💻 금융기관 코드 활용 예시

```javascript
// 금융기관 정보 매핑
const FINANCIAL_INSTITUTIONS = {
    // 주요 은행
    '004': { name: '국민은행', type: 'bank', group: 'major' },
    '020': { name: '우리은행', type: 'bank', group: 'major' },
    '081': { name: 'KEB 하나은행', type: 'bank', group: 'major' },
    '088': { name: '신한은행', type: 'bank', group: 'major' },
    
    // 디지털 은행
    '089': { name: 'K뱅크', type: 'bank', group: 'digital' },
    '090': { name: '카카오뱅크', type: 'bank', group: 'digital' },
    '092': { name: '토스뱅크', type: 'bank', group: 'digital' },
    
    // 지방은행
    '031': { name: 'iM뱅크(대구은행)', type: 'bank', group: 'regional' },
    '032': { name: '부산은행', type: 'bank', group: 'regional' },
    
    // 증권사
    '238': { name: '미래에셋증권', type: 'securities', group: 'major' },
    '240': { name: '삼성증권', type: 'securities', group: 'major' },
    '264': { name: '키움증권', type: 'securities', group: 'major' },
    '271': { name: '토스증권', type: 'securities', group: 'digital' }
};

// 금융기관 정보 조회
function getFinancialInstitutionInfo(bankCode) {
    const institution = FINANCIAL_INSTITUTIONS[bankCode];
    if (!institution) {
        return {
            code: bankCode,
            name: '기타 금융기관',
            type: 'other',
            group: 'other'
        };
    }
    
    return {
        code: bankCode,
        ...institution
    };
}

// 가상계좌 은행 선택 UI 생성
function createBankSelectionUI() {
    const banksByGroup = {
        major: [],
        digital: [],
        regional: [],
        securities: []
    };
    
    // 금융기관을 그룹별로 분류
    Object.entries(FINANCIAL_INSTITUTIONS).forEach(([code, info]) => {
        if (info.type === 'bank') {
            banksByGroup[info.group].push({ code, ...info });
        }
    });
    
    // HTML 생성
    let html = '<div class="bank-selection">';
    
    // 주요 은행
    html += '<div class="bank-group"><h3>주요 은행</h3><div class="bank-list">';
    banksByGroup.major.forEach(bank => {
        html += `<button class="bank-btn" data-code="${bank.code}">${bank.name}</button>`;
    });
    html += '</div></div>';
    
    // 디지털 은행
    html += '<div class="bank-group"><h3>디지털 은행</h3><div class="bank-list">';
    banksByGroup.digital.forEach(bank => {
        html += `<button class="bank-btn digital" data-code="${bank.code}">${bank.name}</button>`;
    });
    html += '</div></div>';
    
    html += '</div>';
    return html;
}

// 계좌이체 결과에서 은행 정보 표시
function displayBankTransferResult(transferResult) {
    const bankInfo = getFinancialInstitutionInfo(transferResult.fnCd);
    
    console.log(`계좌이체 완료: ${bankInfo.name}`);
    console.log(`이체 금액: ${transferResult.trdAmt.toLocaleString()}원`);
    
    // 디지털 은행인 경우 특별 표시
    if (bankInfo.group === 'digital') {
        console.log('💳 디지털 은행 이체');
    }
}
```

---

## 🔍 결제수단 코드

모든 결제수단의 식별 코드입니다.

<div className="overflow-x-auto my-6">
  <table className="min-w-full divide-y divide-gray-200 border border-gray-300 rounded-lg">
    <thead className="bg-gray-50">
      <tr>
        <th className="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">코드</th>
        <th className="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">결제수단</th>
        <th className="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">코드</th>
        <th className="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">결제수단</th>
      </tr>
    </thead>
    <tbody className="bg-white divide-y divide-gray-200">
      <tr>
        <td className="px-4 py-3 text-sm font-mono text-blue-600">CA</td>
        <td className="px-4 py-3 text-sm text-gray-900">신용카드</td>
        <td className="px-4 py-3 text-sm font-mono text-green-600">VA</td>
        <td className="px-4 py-3 text-sm text-gray-900">가상계좌</td>
      </tr>
      <tr>
        <td className="px-4 py-3 text-sm font-mono text-orange-600">RA</td>
        <td className="px-4 py-3 text-sm text-gray-900">계좌이체</td>
        <td className="px-4 py-3 text-sm font-mono text-purple-600">MP</td>
        <td className="px-4 py-3 text-sm text-gray-900">휴대폰결제</td>
      </tr>
      <tr>
        <td className="px-4 py-3 text-sm font-mono text-pink-600">BG</td>
        <td className="px-4 py-3 text-sm text-gray-900">도서상품권</td>
        <td className="px-4 py-3 text-sm font-mono text-pink-600">CG</td>
        <td className="px-4 py-3 text-sm text-gray-900">컬쳐랜드상품권(컬쳐캐쉬)</td>
      </tr>
      <tr>
        <td className="px-4 py-3 text-sm font-mono text-pink-600">HM</td>
        <td className="px-4 py-3 text-sm text-gray-900">해피머니</td>
        <td className="px-4 py-3 text-sm font-mono text-pink-600">TC</td>
        <td className="px-4 py-3 text-sm text-gray-900">틴캐시</td>
      </tr>
      <tr>
        <td className="px-4 py-3 text-sm font-mono text-pink-600">TM</td>
        <td className="px-4 py-3 text-sm text-gray-900">티머니</td>
        <td className="px-4 py-3 text-sm font-mono text-pink-600">SG</td>
        <td className="px-4 py-3 text-sm text-gray-900">스마트문상</td>
      </tr>
      <tr>
        <td className="px-4 py-3 text-sm font-mono text-red-600">CP</td>
        <td className="px-4 py-3 text-sm text-gray-900">포인트다모아</td>
        <td className="px-4 py-3 text-sm font-mono text-gray-600">WL</td>
        <td className="px-4 py-3 text-sm text-gray-900">화이트라벨</td>
      </tr>
      <tr>
        <td className="px-4 py-3 text-sm font-mono text-yellow-600">KP</td>
        <td className="px-4 py-3 text-sm text-gray-900">카카오페이</td>
        <td className="px-4 py-3 text-sm font-mono text-yellow-600">NP</td>
        <td className="px-4 py-3 text-sm text-gray-900">네이버페이</td>
      </tr>
      <tr>
        <td className="px-4 py-3 text-sm font-mono text-yellow-600">PC</td>
        <td className="px-4 py-3 text-sm text-gray-900">페이코</td>
        <td className="px-4 py-3 text-sm font-mono text-gray-600">-</td>
        <td className="px-4 py-3 text-sm text-gray-900">-</td>
      </tr>
    </tbody>
  </table>
</div>

### 📞 통신사 코드

휴대폰 결제에 사용되는 통신사 식별 코드입니다.

<div className="overflow-x-auto my-6">
  <table className="min-w-full divide-y divide-gray-200 border border-gray-300 rounded-lg">
    <thead className="bg-purple-50">
      <tr>
        <th className="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">코드</th>
        <th className="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">통신사명</th>
        <th className="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">코드</th>
        <th className="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">통신사명</th>
      </tr>
    </thead>
    <tbody className="bg-white divide-y divide-gray-200">
      <tr>
        <td className="px-4 py-3 text-sm font-mono text-purple-600">SKT</td>
        <td className="px-4 py-3 text-sm text-gray-900">SK Telecom</td>
        <td className="px-4 py-3 text-sm font-mono text-purple-600">KTF</td>
        <td className="px-4 py-3 text-sm text-gray-900">KT</td>
      </tr>
      <tr>
        <td className="px-4 py-3 text-sm font-mono text-purple-600">LGT</td>
        <td className="px-4 py-3 text-sm text-gray-900">LG U+</td>
        <td className="px-4 py-3 text-sm font-mono text-purple-600">SKL</td>
        <td className="px-4 py-3 text-sm text-gray-900">SK 7 Mobile</td>
      </tr>
      <tr>
        <td className="px-4 py-3 text-sm font-mono text-purple-600">CJH</td>
        <td className="px-4 py-3 text-sm text-gray-900">CJ 헬로모바일</td>
        <td className="px-4 py-3 text-sm font-mono text-purple-600">KCT</td>
        <td className="px-4 py-3 text-sm text-gray-900">한국케이블텔레콤</td>
      </tr>
    </tbody>
  </table>
</div>

---

## 🛠️ 개발 도구

### 📊 에러 통계 분석 도구

```javascript
class ErrorAnalyzer {
    constructor() {
        this.errorStats = new Map();
        this.errorPatterns = new Map();
    }
    
    // 에러 통계 수집
    recordError(errorCode, paymentMethod, context = {}) {
        const key = `${paymentMethod}_${errorCode}`;
        
        if (!this.errorStats.has(key)) {
            this.errorStats.set(key, {
                count: 0,
                firstOccurrence: new Date(),
                lastOccurrence: new Date(),
                contexts: []
            });
        }
        
        const stats = this.errorStats.get(key);
        stats.count++;
        stats.lastOccurrence = new Date();
        stats.contexts.push({
            timestamp: new Date(),
            ...context
        });
        
        // 최근 100개만 유지
        if (stats.contexts.length > 100) {
            stats.contexts = stats.contexts.slice(-100);
        }
    }
    
    // 에러 패턴 분석
    analyzePatterns(timeWindow = 3600000) { // 1시간
        const now = Date.now();
        const patterns = [];
        
        for (const [key, stats] of this.errorStats) {
            const recentErrors = stats.contexts.filter(
                ctx => now - ctx.timestamp.getTime() < timeWindow
            );
            
            if (recentErrors.length >= 5) { // 임계값
                patterns.push({
                    errorKey: key,
                    frequency: recentErrors.length,
                    trend: this.calculateTrend(recentErrors),
                    severity: this.calculateSeverity(key, recentErrors.length)
                });
            }
        }
        
        return patterns.sort((a, b) => b.severity - a.severity);
    }
    
    // 에러 트렌드 계산
    calculateTrend(errors) {
        if (errors.length < 2) return 'stable';
        
        const halfPoint = Math.floor(errors.length / 2);
        const firstHalf = errors.slice(0, halfPoint).length;
        const secondHalf = errors.slice(halfPoint).length;
        
        if (secondHalf > firstHalf * 1.5) return 'increasing';
        if (secondHalf < firstHalf * 0.5) return 'decreasing';
        return 'stable';
    }
    
    // 심각도 계산
    calculateSeverity(errorKey, frequency) {
        const [method, code] = errorKey.split('_');
        
        // 시스템 에러는 높은 심각도
        if (code.startsWith('99') || code.startsWith('ST')) {
            return frequency * 10;
        }
        
        // 보안 에러
        if (code.startsWith('19') || code.startsWith('20')) {
            return frequency * 8;
        }
        
        // 일반 에러
        return frequency;
    }
    
    // 에러 리포트 생성
    generateReport() {
        const patterns = this.analyzePatterns();
        const totalErrors = Array.from(this.errorStats.values())
            .reduce((sum, stats) => sum + stats.count, 0);
        
        return {
            summary: {
                totalErrors,
                uniqueErrorTypes: this.errorStats.size,
                criticalPatterns: patterns.filter(p => p.severity >= 50).length
            },
            patterns,
            recommendations: this.generateRecommendations(patterns)
        };
    }
    
    // 개선 권고사항 생성
    generateRecommendations(patterns) {
        const recommendations = [];
        
        patterns.forEach(pattern => {
            const [method, code] = pattern.errorKey.split('_');
            
            if (code === '1901') {
                recommendations.push({
                    priority: 'high',
                    message: '해시값 불일치 오류가 빈번합니다. 해시 생성 로직을 점검하세요.',
                    action: 'hash_validation_review'
                });
            }
            
            if (code.startsWith('CA') && pattern.frequency > 10) {
                recommendations.push({
                    priority: 'medium',
                    message: '신용카드 오류가 증가하고 있습니다. 카드사 연동 상태를 확인하세요.',
                    action: 'card_gateway_check'
                });
            }
        });
        
        return recommendations;
    }
}

// 사용 예시
const analyzer = new ErrorAnalyzer();

// 에러 발생 시 기록
analyzer.recordError('1901', 'credit_card', {
    mchtId: 'test_merchant',
    amount: 5000,
    userAgent: 'Mozilla/5.0...'
});

// 정기적인 분석 (예: 매시간)
setInterval(() => {
    const report = analyzer.generateReport();
    console.log('에러 분석 리포트:', report);
    
    // 심각한 패턴이 발견되면 알림
    if (report.summary.criticalPatterns > 0) {
        sendAlert('Critical error patterns detected', report);
    }
}, 3600000); // 1시간마다
```

### 🔍 코드 검증 도구

```javascript
// 코드 검증 유틸리티
class CodeValidator {
    // 카드사 코드 검증
    static validateCardCode(cardCode) {
        const validCodes = [
            'BCC', 'KBC', 'HNC', 'SSC', 'SHN', 'WRI', 'HDC', 'LTC',
            '007', 'NHC', '035', '034', '037', '027', '218', '050',
            '071', '048', '002', '090', '089', 'KBP', 'SSP', '1QP', '247'
        ];
        
        return {
            isValid: validCodes.includes(cardCode),
            message: validCodes.includes(cardCode) 
                ? '유효한 카드사 코드입니다.' 
                : '등록되지 않은 카드사 코드입니다.'
        };
    }
    
    // 금융기관 코드 검증
    static validateBankCode(bankCode) {
        const validCodes = [
            '002', '003', '004', '007', '011', '020', '023', '027',
            '031', '032', '034', '035', '037', '039', '081', '088',
            '089', '090', '092', '209', '218', '238', '240', '243',
            '264', '270', '271', '278', '287'
        ];
        
        return {
            isValid: validCodes.includes(bankCode),
            message: validCodes.includes(bankCode)
                ? '유효한 금융기관 코드입니다.'
                : '등록되지 않은 금융기관 코드입니다.'
        };
    }
    
    // 결제수단 코드 검증
    static validatePaymentMethod(methodCode) {
        const validMethods = {
            'CA': '신용카드',
            'VA': '가상계좌', 
            'RA': '계좌이체',
            'MP': '휴대폰결제',
            'BG': '도서상품권',
            'CG': '컬쳐랜드상품권',
            'HM': '해피머니',
            'TC': '틴캐시',
            'TM': '티머니',
            'SG': '스마트문상',
            'CP': '포인트다모아',
            'WL': '화이트라벨',
            'KP': '카카오페이',
            'NP': '네이버페이',
            'PC': '페이코'
        };
        
        return {
            isValid: methodCode in validMethods,
            method: validMethods[methodCode],
            message: methodCode in validMethods
                ? `유효한 결제수단입니다: ${validMethods[methodCode]}`
                : '지원하지 않는 결제수단입니다.'
        };
    }
    
    // 종합 검증
    static validateAll(codes) {
        const results = {};
        
        if (codes.cardCode) {
            results.cardCode = this.validateCardCode(codes.cardCode);
        }
        
        if (codes.bankCode) {
            results.bankCode = this.validateBankCode(codes.bankCode);
        }
        
        if (codes.paymentMethod) {
            results.paymentMethod = this.validatePaymentMethod(codes.paymentMethod);
        }
        
        return results;
    }
}

// 사용 예시
const validationResult = CodeValidator.validateAll({
    cardCode: 'BCC',
    bankCode: '004',
    paymentMethod: 'CA'
});

console.log('검증 결과:', validationResult);
```

---

## 💡 자주 묻는 질문

### Q. 에러 코드가 문서에 없는 경우 어떻게 해야 하나요?
A. 새로운 에러 코드가 발생하면 헥토파이낸셜 기술지원팀에 문의하세요. 시스템 업데이트로 인해 새로운 에러 코드가 추가될 수 있습니다.

### Q. 카드사 코드와 은행 코드가 다른 이유는 무엇인가요?
A. 카드사 코드는 신용카드 결제 시 사용되고, 은행 코드는 계좌이체나 가상계좌 발급 시 사용됩니다. 같은 기관이라도 서로 다른 코드를 사용할 수 있습니다.

### Q. 디지털 은행들의 특별한 처리가 필요한가요?
A. 기본적으로는 동일하게 처리하지만, 일부 디지털 은행은 서비스 시간이나 한도 정책이 다를 수 있으므로 확인이 필요합니다.

### Q. 에러 코드 분석 도구를 실제 서비스에 적용해도 되나요?
A. 네, 제공된 분석 도구는 실제 서비스에서 사용할 수 있도록 설계되었습니다. 단, 메모리 사용량과 성능을 고려하여 적절히 조정하세요.

### Q. 새로운 간편결제 서비스가 추가되면 어떻게 대응해야 하나요?
A. 새로운 서비스 추가 시 헥토파이낸셜에서 별도 공지와 함께 관련 코드 정보를 제공합니다. 개발자 참조 문서도 함께 업데이트됩니다.

---

## 🚀 마무리

이제 PG 결제 서비스의 모든 참조 정보를 확인했습니다. 이 문서를 북마크하여 개발 중 언제든지 참조하세요.

<div className="grid grid-cols-2 md:grid-cols-4 gap-4 my-8">
  <a href="/docs/pg/getting-started" className="block p-4 bg-white border-2 border-hecto-100 hover:border-hecto-300 rounded-xl transition-colors group">
    <div className="text-center">
      <div className="w-12 h-12 bg-hecto-400 rounded-lg flex items-center justify-center mx-auto mb-2 group-hover:bg-hecto-500 transition-colors">
        <span className="text-white text-lg">🚀</span>
      </div>
      <span className="text-sm font-medium text-gray-900">시작하기</span>
    </div>
  </a>
  
  <a href="/docs/pg/transaction-management" className="block p-4 bg-white border-2 border-blue-100 hover:border-blue-300 rounded-xl transition-colors group">
    <div className="text-center">
      <div className="w-12 h-12 bg-hecto-400 rounded-lg flex items-center justify-center mx-auto mb-2 group-hover:bg-blue-600 transition-colors">
        <span className="text-white text-lg">📊</span>
      </div>
      <span className="text-sm font-medium text-gray-900">거래관리</span>
    </div>
  </a>
  
  <a href="/docs/pg/credit-card" className="block p-4 bg-white border-2 border-green-100 hover:border-green-300 rounded-xl transition-colors group">
    <div className="text-center">
      <div className="w-12 h-12 bg-hecto-400 rounded-lg flex items-center justify-center mx-auto mb-2 group-hover:bg-green-600 transition-colors">
        <span className="text-white text-lg">💳</span>
      </div>
      <span className="text-sm font-medium text-gray-900">신용카드</span>
    </div>
  </a>
  
  <a href="/docs/pg/simple-payment" className="block p-4 bg-white border-2 border-purple-100 hover:border-purple-300 rounded-xl transition-colors group">
    <div className="text-center">
      <div className="w-12 h-12 bg-hecto-400 rounded-lg flex items-center justify-center mx-auto mb-2 group-hover:bg-purple-600 transition-colors">
        <span className="text-white text-lg">⚡</span>
      </div>
      <span className="text-sm font-medium text-gray-900">간편결제</span>
    </div>
  </a>
</div>

<DocumentFooter 
  title="🎉 PG 결제 서비스 완전 가이드 완성!"
  description="이제 헥토파이낸셜의 모든 결제 수단을 완벽하게 연동할 수 있습니다."
  primaryButton={{
    text: "📧 기술지원 문의",
    href: "mailto:support@hectofinancial.com"
  }}
  secondaryButton={{
    text: "🏠 홈으로 돌아가기",
    href: "/"
  }}
/>
