---
title: 신용카드 빌키 발급
description: 신용카드 빌키 발급 API
category: 결제 API
path: /spay/APICardAuth.do
method: POST
testUrl: https://tbgw.settlebank.co.kr/spay/APICardAuth.do
prodUrl: https://gw.settlebank.co.kr/spay/APICardAuth.do
contentType: application/json
---

# 신용카드 빌키 발급

결제 하지 않고 빌키만 발급받는 API입니다.

## 주의 사항

* 빌키 서비스는 영업 담당자를 통해 별도 신청이 필요합니다.
* 빌키 발급 후 저장하여 2회차 결제시 사용합니다.

## API 정보

- **URL**: `/spay/APICardActionPay.do`
- **Method**: `POST`
- **Content-Type**: `application/x-www-form-urlencoded`

## 요청 파라미터

### params 객체

<ApiParameterCard
  name="mchtId"
  type="string(12)"
  required={true}
  description="헥토파이낸셜에서 부여하는 고유 상점아이디입니다."
  example="nxca_ks_gu"
  inputType="text"
  defaultValue="nxca_ks_gu"
  placeholder="상점아이디를 입력하세요"
  section="params"
/>

<ApiParameterCard
  name="ver"
  type="string(4)"
  required={true}
  description="전문의 버전입니다."
  example="0A19"
  note="고정값으로 사용합니다."
  inputType="text"
  defaultValue="0A19"
  fixed={true}
  section="params"
/>

<ApiParameterCard
  name="method"
  type="string(2)"
  required={true}
  description="결제수단입니다."
  example="CA"
  note="고정값으로 사용합니다."
  inputType="text"
  defaultValue="CA"
  fixed={true}
  section="params"
/>

<ApiParameterCard
  name="bizType"
  type="string(2)"
  required={true}
  description="업무 구분코드입니다."
  example="A4"
  note="고정값으로 사용합니다."
  inputType="text"
  defaultValue="A4"
  fixed={true}
  section="params"
/>

<ApiParameterCard
  name="encCd"
  type="string(2)"
  required={true}
  description="암호화 구분 코드입니다."
  example="23"
  note="고정값으로 사용합니다."
  inputType="text"
  defaultValue="23"
  fixed={true}
  section="params"
/>

<ApiParameterCard
  name="mchtTrdNo"
  type="string(100)"
  required={true}
  description="상점에서 생성하는 고유한 주문번호입니다."
  example="PG_API20220920131039"
  inputType="text"
  defaultValue="PG_API20220920131039"
  placeholder="상점주문번호를 입력하세요"
  section="params"
/>

<ApiParameterCard
  name="trdDt"
  type="string(8)"
  required={true}
  description="현재 전문을 전송하는 일자(YYYYMMDD)입니다."
  example="20220920"
  inputType="text"
  defaultValue="20220920"
  placeholder="YYYYMMDD 형식으로 입력하세요"
  section="params"
/>

<ApiParameterCard
  name="trdTm"
  type="string(6)"
  required={true}
  description="현재 전문을 전송하는 시간(HHMMSS)입니다."
  example="131039"
  inputType="text"
  defaultValue="131039"
  placeholder="HHMMSS 형식으로 입력하세요"
  section="params"
/>

<ApiParameterCard
  name="mobileYn"
  type="string(1)"
  required={false}
  description="모바일 여부입니다."
  example="N"
  values={[
    "Y: 모바일웹/앱",
    "N: PC 또는 그 외"
  ]}
  inputType="text"
  defaultValue="N"
  placeholder="모바일 여부를 입력하세요"
  section="params"
/>

<ApiParameterCard
  name="osType"
  type="string(1)"
  required={false}
  description="OS 구분입니다."
  example="W"
  values={[
    "A: Android",
    "I: IOS", 
    "W: windows",
    "M: Mac",
    "E: 기타"
  ]}
  inputType="text"
  defaultValue="W"
  placeholder="OS 구분을 입력하세요"
  section="params"
/>

### data 객체

<ApiParameterCard
  name="pktHash"
  type="string(64)"
  required={true}
  description="SHA256 방식으로 생성한 해쉬값입니다."
  example="3bf1295695eb0e081f7900dfcbfcb225887d8fb07322d54c3dba72a2726bf55d"
  inputType="text"
  defaultValue="3bf1295695eb0e081f7900dfcbfcb225887d8fb07322d54c3dba72a2726bf55d"
  placeholder="SHA256 해쉬값을 입력하세요"
  fixed={true}
  note="🔒 요청일자 + 요청시간 + 상점아이디 + 상점주문번호 + '0' + 해쉬키 순서로 조합"
  section="data"
/>

<ApiParameterCard
  name="cardNo"
  type="string(128)"
  required={true}
  description="카드번호, 숫자만 입력합니다."
  example="522112******1621"
  inputType="text"
  defaultValue="522112******1621"
  placeholder="카드번호를 입력하세요"
  section="data"
/>

<ApiParameterCard
  name="idntNo"
  type="string(64)"
  required={true}
  description="생년월일6자리 or 사업자번호10자리입니다."
  example="620817"
  inputType="text"
  defaultValue="620817"
  placeholder="식별번호를 입력하세요"
  section="data"
/>

<ApiParameterCard
  name="vldDtMon"
  type="string(24)"
  required={true}
  description="카드 유효기간(월), 숫자만 입력합니다."
  example="11"
  inputType="text"
  defaultValue="11"
  placeholder="유효기간 월을 입력하세요"
  section="data"
/>

<ApiParameterCard
  name="vldDtYear"
  type="string(24)"
  required={true}
  description="카드 유효기간(년), 숫자만 입력합니다."
  example="11"
  inputType="text"
  defaultValue="11"
  placeholder="유효기간 년을 입력하세요"
  section="data"
/>

<ApiParameterCard
  name="cardPwd"
  type="string(24)"
  required={true}
  description="카드 비밀번호 앞2자리입니다."
  example="11"
  inputType="text"
  defaultValue="11"
  placeholder="카드비밀번호를 입력하세요"
  section="data"
/>

<ApiParameterCard
  name="mchtCustNm"
  type="string(30)"
  required={false}
  description="고객명(한글포함가능)입니다."
  example="홍길동"
  inputType="text"
  defaultValue="홍길동"
  placeholder="고객명을 입력하세요"
  section="data"
/>

<ApiParameterCard
  name="mchtCustId"
  type="string(50)"
  required={false}
  description="고객아이디(한글포함불가)입니다."
  example="HongGilDong"
  inputType="text"
  defaultValue="HongGilDong"
  placeholder="고객아이디를 입력하세요"
  section="data"
/>

<ApiParameterCard
  name="keyRegYn"
  type="string(1)"
  required={true}
  description="인증후 빌키발급여부입니다."
  example="Y"
  values={[
    "Y: 빌키 발급",
    "N: 빌키 발급 안함"
  ]}
  inputType="text"
  defaultValue="Y"
  placeholder="빌키발급여부를 입력하세요"
  section="data"
/>

## 해쉬 생성 방법

해쉬값은 다음 순서로 조합하여 SHA256으로 생성합니다:

```
요청일자 + 요청시간 + 상점아이디 + 상점주문번호 + "0" + 해쉬키
```

## 응답 파라미터

### 성공 응답

#### params 객체

<DocParameterCard
  name="mchtId"
  type="string"
  required={true}
  description="헥토파이낸셜에서 부여하는 고유 상점아이디"
  example="nxca_ks_gu"
/>

<DocParameterCard
  name="ver"
  type="string"
  required={true}
  description="전문의 버전"
  example="0A19"
  note="고정값"
/>

<DocParameterCard
  name="method"
  type="string"
  required={true}
  description="결제수단"
  example="CA"
  note="고정값"
/>

<DocParameterCard
  name="bizType"
  type="string"
  required={true}
  description="업무구분코드"
  example="A4"
  note="빌키 발급용 고정값"
/>

<DocParameterCard
  name="encCd"
  type="string"
  required={true}
  description="암호화구분코드"
  example="23"
  note="고정값"
/>

<DocParameterCard
  name="mchtTrdNo"
  type="string"
  required={true}
  description="상점주문번호"
  example="ORDER20211231100000"
/>

<DocParameterCard
  name="trdDt"
  type="string"
  required={true}
  description="거래일자"
  example="20211231"
/>

<DocParameterCard
  name="trdTm"
  type="string"
  required={true}
  description="거래시간"
  example="100000"
/>

<DocParameterCard
  name="outStatCd"
  type="string"
  required={true}
  description="거래상태코드"
  example="0000"
  values={[
    "0000: 성공"
  ]}
/>

<DocParameterCard
  name="outRsltMsg"
  type="string"
  required={true}
  description="거래결과메시지"
  example="정상처리"
/>

#### data 객체

<DocParameterCard
  name="pktHash"
  type="string"
  required={true}
  description="해쉬값"
  example="f395b6725a9a18f2563ce34f8bc76698051d27c05e5ba815f463f00429061c0c"
/>

<DocParameterCard
  name="billKey"
  type="string"
  required={true}
  description="빌키 (자동결제키)"
  example="SBILL_PGCAnxca_ks_gu20222609990921093117"
  note="2회차 결제시 사용할 빌키"
/>

<DocParameterCard
  name="cardNo"
  type="string"
  required={true}
  description="카드번호 (마스킹)"
  example="123456******1234"
/>

<DocParameterCard
  name="cardCd"
  type="string"
  required={true}
  description="카드사코드"
  example="01"
/>

<DocParameterCard
  name="cardNm"
  type="string"
  required={true}
  description="카드종류명"
  example="현대마스타개인"
/>

<DocParameterCard
  name="method"
  type="string"
  required={true}
  description="결제수단"
  example="CA"
  note="고정값"
/>

<DocParameterCard
  name="bizType"
  type="string"
  required={true}
  description="업무구분코드"
  example="A4"
  note="빌키 발급용 고정값"
/>

<DocParameterCard
  name="encCd"
  type="string"
  required={true}
  description="암호화구분코드"
  example="23"
  note="고정값"
/>

<DocParameterCard
  name="mchtTrdNo"
  type="string"
  required={true}
  description="상점에서 생성하는 고유 주문번호"
  example="PG_API20220920131039"
/>

<DocParameterCard
  name="trdNo"
  type="string"
  required={true}
  description="헥토파이낸셜에서 부여하는 고유 거래번호"
  example="STFP_PGCAnxca_ks_gu0220921093117M1260999"
/>

<DocParameterCard
  name="trdDt"
  type="string"
  required={true}
  description="거래일자 (YYYYMMDD)"
  example="20220921"
/>

<DocParameterCard
  name="trdTm"
  type="string"
  required={true}
  description="거래시간 (HHMMSS)"
  example="093117"
/>

<DocParameterCard
  name="outStatCd"
  type="string"
  required={true}
  description="거래상태코드"
  example="0021"
  values={[
    "0021: 성공",
    "0031: 실패"
  ]}
/>

<DocParameterCard
  name="outRsltCd"
  type="string"
  required={true}
  description="결과코드"
  example="0000"
  values={[
    "0000: 성공",
    "기타: 실패코드"
  ]}
/>

<DocParameterCard
  name="outRsltMsg"
  type="string"
  required={true}
  description="결과메시지"
  example="정상처리되었습니다"
/>

<DocParameterCard
  name="pktHash"
  type="string"
  required={true}
  description="해쉬값 (요청시 전송한 값 그대로 반환)"
  example="f395b6725a9a18f2563ce34f8bc76698051d27c05e5ba815f463f00429061c0c"
/>

<DocParameterCard
  name="cardNo"
  type="string"
  required={true}
  description="카드번호 (마스킹 처리됨)"
  example="522112******1621"
/>

<DocParameterCard
  name="issrId"
  type="string"
  required={true}
  description="발급사아이디"
  example="HDC"
/>

<DocParameterCard
  name="cardNm"
  type="string"
  required={true}
  description="카드사명"
  example="현대"
/>

<DocParameterCard
  name="cardKind"
  type="string"
  required={true}
  description="카드종류명"
  example="현대마스타개인"
/>

<DocParameterCard
  name="billKey"
  type="string"
  required={true}
  description="빌키 (자동결제키)"
  example="SBILL_PGCAnxca_ks_gu20222609990921093117"
  note="2회차 결제시 사용할 빌키"
/>

### 실패 응답

<DocParameterCard
  name="outStatCd"
  type="string"
  required={true}
  description="거래상태코드"
  example="0031"
  values={[
    "0031: 실패"
  ]}
/>

<DocParameterCard
  name="outRsltCd"
  type="string"
  required={true}
  description="결과코드"
  example="1001"
  values={[
    "1001: 빌키 발급 실패",
    "기타: 각종 오류코드"
  ]}
/>

<DocParameterCard
  name="outRsltMsg"
  type="string"
  required={true}
  description="결과메시지"
  example="빌키 발급 실패"
/>

## 응답 해쉬 검증

응답 해쉬값은 다음 순서로 조합하여 SHA256으로 생성됩니다:

```
거래상태코드 + 요청일자 + 요청시간 + 상점아이디 + 상점주문번호 + "0" + 해쉬키
```

## 에러 코드

자세한 에러 코드는 [거절 코드 표](/docs/api/pg/credit-card/error-codes)를 참고하세요.
