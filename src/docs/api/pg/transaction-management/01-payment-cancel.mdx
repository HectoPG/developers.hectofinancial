---
title: ê²°ì œ ì·¨ì†Œ
description: ì‹ ìš©ì¹´ë“œ, ê³„ì¢Œì´ì²´, íœ´ëŒ€í°ê²°ì œ ë“± ê²°ì œ ì·¨ì†Œ API
category: ê²°ì œ ê´€ë¦¬ API
path: /spay/APICancel.do
method: POST
testUrl: https://tbgw.settlebank.co.kr/spay/APICancel.do
prodUrl: https://gw.settlebank.co.kr/spay/APICancel.do
---

# ê²°ì œ ì·¨ì†Œ

ì‹ ìš©ì¹´ë“œ, ê³„ì¢Œì´ì²´, íœ´ëŒ€í°ê²°ì œ ë“± ëª¨ë“  ê²°ì œ ìˆ˜ë‹¨ì˜ ì·¨ì†Œë¥¼ ì²˜ë¦¬í•˜ëŠ” APIì…ë‹ˆë‹¤.

## API ì •ë³´

- **Method**: `POST`
- **Path**: `/spay/APICancel.do`
- **Content-Type**: `application/json`

## ìš”ì²­ íŒŒë¼ë¯¸í„°

<ApiObjectHeader name="params" type="object" description="API ìš”ì²­ì˜ ê¸°ë³¸ í—¤ë” ì •ë³´ë¥¼ ë‹´ëŠ” ê°ì²´ì…ë‹ˆë‹¤. ê±°ë˜ ì‹ë³„ ë° ì¸ì¦ì— í•„ìš”í•œ ë©”íƒ€ë°ì´í„°ë¥¼ í¬í•¨í•©ë‹ˆë‹¤." />

<ApiParameterCard
  name="mchtId"
  type="string(10)"
  required={true}
  description="í—¥í† íŒŒì´ë‚¸ì…œì—ì„œ ë¶€ì—¬í•˜ëŠ” ê³ ìœ  ìƒì ì•„ì´ë””ì…ë‹ˆë‹¤."
  example="nxca_jt_bi"
/>

<ApiParameterCard
  name="orgTrdNo"
  type="string(50)"
  required={true}
  description="ì›ê±°ë˜ë²ˆí˜¸ì…ë‹ˆë‹¤. ì·¨ì†Œí•˜ë ¤ëŠ” ì›ë˜ ê±°ë˜ì˜ í—¥í† íŒŒì´ë‚¸ì…œ ê±°ë˜ë²ˆí˜¸ì…ë‹ˆë‹¤."
  example="STFP_PGCAnxca_jt_il0211129135810M1494620"
/>

<ApiParameterCard
  name="orgMchtTrdNo"
  type="string(100)"
  required={true}
  description="ì›ì£¼ë¬¸ë²ˆí˜¸ì…ë‹ˆë‹¤. ì·¨ì†Œí•˜ë ¤ëŠ” ì›ë˜ ê±°ë˜ì˜ ìƒì ì£¼ë¬¸ë²ˆí˜¸ì…ë‹ˆë‹¤."
  example="ORDER20231215143022"
/>

<ApiParameterCard
  name="orgTrdDt"
  type="string(8)"
  required={true}
  description="ì›ê±°ë˜ì¼ìì…ë‹ˆë‹¤. ì·¨ì†Œí•˜ë ¤ëŠ” ì›ë˜ ê±°ë˜ì˜ ê±°ë˜ì¼ìì…ë‹ˆë‹¤."
  example="20231215"
/>

<ApiParameterCard
  name="canAmt"
  type="string(12)"
  required={true}
  description="ì·¨ì†Œê¸ˆì•¡ì…ë‹ˆë‹¤. ì›ê±°ë˜ê¸ˆì•¡ë³´ë‹¤ ì‘ê±°ë‚˜ ê°™ì•„ì•¼ í•©ë‹ˆë‹¤."
  example="1000"
  note="ğŸ’° ë¶€ë¶„ì·¨ì†Œ ê°€ëŠ¥, ì›ê±°ë˜ê¸ˆì•¡ ì´í•˜ë¡œë§Œ ì„¤ì • ê°€ëŠ¥"
/>

<ApiParameterCard
  name="pktHash"
  type="string(64)"
  required={true}
  description="SHA256 ë°©ì‹ìœ¼ë¡œ ìƒì„±í•œ í•´ì‰¬ê°’ì…ë‹ˆë‹¤."
  example="f395b6725a9a18f2563ce34f8bc76698051d27c05e5ba815f463f00429061c0c"
  note="ğŸ”’ ì›ê±°ë˜ë²ˆí˜¸ + ì›ì£¼ë¬¸ë²ˆí˜¸ + ì›ê±°ë˜ì¼ì + ì·¨ì†Œê¸ˆì•¡ + í•´ì‰¬í‚¤ ìˆœì„œë¡œ ì¡°í•©"
/>

## ğŸ’» ìš”ì²­ ì˜ˆì‹œ

### ì „ì²´ ì·¨ì†Œ

```json
{
  "mchtId": "nxca_jt_bi",
  "orgTrdNo": "STFP_PGCAnxca_jt_il0211129135810M1494620",
  "orgMchtTrdNo": "ORDER20231215143022",
  "orgTrdDt": "20231215",
  "canAmt": "1000",
  "pktHash": "f395b6725a9a18f2563ce34f8bc76698051d27c05e5ba815f463f00429061c0c"
}
```

### ë¶€ë¶„ ì·¨ì†Œ

```json
{
  "mchtId": "nxca_jt_bi",
  "orgTrdNo": "STFP_PGCAnxca_jt_il0211129135810M1494620",
  "orgMchtTrdNo": "ORDER20231215143022",
  "orgTrdDt": "20231215",
  "canAmt": "500",
  "pktHash": "f395b6725a9a18f2563ce34f8bc76698051d27c05e5ba815f463f00429061c0c"
}
```

## ğŸ“¤ ì‘ë‹µ íŒŒë¼ë¯¸í„°

### ì„±ê³µ ì‘ë‹µ

<DocParameterCard
  name="resultCode"
  type="string"
  required={true}
  description="ê²°ê³¼ì½”ë“œ"
  example="0000"
  values={[
    "0000: ì„±ê³µ",
    "ê¸°íƒ€: ì‹¤íŒ¨ì½”ë“œ"
  ]}
/>

<DocParameterCard
  name="resultMsg"
  type="string"
  required={true}
  description="ê²°ê³¼ë©”ì‹œì§€"
  example="ì •ìƒì ìœ¼ë¡œ ì²˜ë¦¬ë˜ì—ˆìŠµë‹ˆë‹¤."
/>

<DocParameterCard
  name="canTrdNo"
  type="string"
  required={true}
  description="ì·¨ì†Œ ê±°ë˜ë²ˆí˜¸"
  example="STFP_CANCEL_nxca_jt_il0211129135810M1494621"
/>

### ì‹¤íŒ¨ ì‘ë‹µ

<DocParameterCard
  name="resultCode"
  type="string"
  required={true}
  description="ê²°ê³¼ì½”ë“œ"
  example="1002"
  values={[
    "1002: ì·¨ì†Œê¸ˆì•¡ì´ ì›ê±°ë˜ê¸ˆì•¡ì„ ì´ˆê³¼",
    "ê¸°íƒ€: ê°ì¢… ì˜¤ë¥˜ì½”ë“œ"
  ]}
/>

<DocParameterCard
  name="resultMsg"
  type="string"
  required={true}
  description="ê²°ê³¼ë©”ì‹œì§€"
  example="ì·¨ì†Œê¸ˆì•¡ì´ ì›ê±°ë˜ê¸ˆì•¡ì„ ì´ˆê³¼í•©ë‹ˆë‹¤."
/>

<DocParameterCard
  name="canTrdNo"
  type="string"
  required={false}
  description="ì·¨ì†Œ ê±°ë˜ë²ˆí˜¸ (ì‹¤íŒ¨ì‹œ null)"
  example="null"
/>

## ğŸ”§ êµ¬í˜„ ì˜ˆì‹œ

### JavaScript

```javascript
// ê²°ì œ ì·¨ì†Œ API í˜¸ì¶œ
async function callPaymentCancelAPI(params) {
  const response = await fetch('https://tbgw.settlebank.co.kr/spay/APICancel.do', {
    method: 'POST',
    headers: {
      'Content-Type': 'application/json',
    },
    body: JSON.stringify(params)
  });
  
  return await response.json();
}

// ì‚¬ìš© ì˜ˆì‹œ - ì „ì²´ ì·¨ì†Œ
const cancelParams = {
  mchtId: "nxca_jt_bi",
  orgTrdNo: "STFP_PGCAnxca_jt_il0211129135810M1494620",
  orgMchtTrdNo: "ORDER20231215143022",
  orgTrdDt: "20231215",
  canAmt: "1000", // ì „ì²´ ê¸ˆì•¡ ì·¨ì†Œ
  pktHash: "ìƒì„±ëœí•´ì‹œê°’"
};

const result = await callPaymentCancelAPI(cancelParams);
if (result.resultCode === "0000") {
  console.log('ì·¨ì†Œ ì„±ê³µ:', result.canTrdNo);
} else {
  console.error('ì·¨ì†Œ ì‹¤íŒ¨:', result.resultMsg);
}

// ë¶€ë¶„ ì·¨ì†Œ ì˜ˆì‹œ
const partialCancelParams = {
  ...cancelParams,
  canAmt: "500" // ë¶€ë¶„ ì·¨ì†Œ ê¸ˆì•¡
};

const partialResult = await callPaymentCancelAPI(partialCancelParams);
```

### Python

```python
import requests
import json

# ê²°ì œ ì·¨ì†Œ API í˜¸ì¶œ
def call_payment_cancel_api(params):
    url = 'https://tbgw.settlebank.co.kr/spay/APICancel.do'
    response = requests.post(url, json=params)
    return response.json()

# ì‚¬ìš© ì˜ˆì‹œ - ì „ì²´ ì·¨ì†Œ
cancel_params = {
    "mchtId": "nxca_jt_bi",
    "orgTrdNo": "STFP_PGCAnxca_jt_il0211129135810M1494620",
    "orgMchtTrdNo": "ORDER20231215143022",
    "orgTrdDt": "20231215",
    "canAmt": "1000",  # ì „ì²´ ê¸ˆì•¡ ì·¨ì†Œ
    "pktHash": "ìƒì„±ëœí•´ì‹œê°’"
}

result = call_payment_cancel_api(cancel_params)
if result["resultCode"] == "0000":
    print('ì·¨ì†Œ ì„±ê³µ:', result["canTrdNo"])
else:
    print('ì·¨ì†Œ ì‹¤íŒ¨:', result["resultMsg"])

# ë¶€ë¶„ ì·¨ì†Œ ì˜ˆì‹œ
partial_cancel_params = {
    **cancel_params,
    "canAmt": "500"  # ë¶€ë¶„ ì·¨ì†Œ ê¸ˆì•¡
}

partial_result = call_payment_cancel_api(partial_cancel_params)
```

## âš ï¸ ì£¼ì˜ì‚¬í•­

- ì·¨ì†ŒëŠ” ì›ê±°ë˜ ë°œìƒì¼ë¡œë¶€í„° ì œí•œëœ ê¸°ê°„ ë‚´ì—ë§Œ ê°€ëŠ¥í•©ë‹ˆë‹¤.
- ë¶€ë¶„ì·¨ì†Œê°€ ê°€ëŠ¥í•œ ê²°ì œìˆ˜ë‹¨ê³¼ ë¶ˆê°€ëŠ¥í•œ ê²°ì œìˆ˜ë‹¨ì´ ìˆìŠµë‹ˆë‹¤.
- ì·¨ì†Œê¸ˆì•¡ì€ ì›ê±°ë˜ê¸ˆì•¡ì„ ì´ˆê³¼í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.
- ì´ë¯¸ ì·¨ì†Œëœ ê±°ë˜ì— ëŒ€í•œ ì¤‘ë³µ ì·¨ì†ŒëŠ” ë¶ˆê°€ëŠ¥í•©ë‹ˆë‹¤.
- ì·¨ì†Œ ì²˜ë¦¬ ì‹œê°„ì€ ê²°ì œìˆ˜ë‹¨ê³¼ ì¹´ë“œì‚¬ì— ë”°ë¼ ë‹¤ë¥¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- ì·¨ì†Œ ìŠ¹ì¸ í›„ ì‹¤ì œ ì¹´ë“œì‚¬ ì·¨ì†Œ ì²˜ë¦¬ëŠ” ì‹œê°„ì´ ë” ì†Œìš”ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

