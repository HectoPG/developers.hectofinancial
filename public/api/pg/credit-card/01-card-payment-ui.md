# 신용카드 결제 (UI)

신용카드 UI 결제는 고객이 결제 화면에서 직접 카드 정보를 입력하여 결제를 진행하는 방식입니다.

## 주의 사항

* 상점아이디 속성에 따라 화면이 분기됩니다.
  * 상점아이디가 일반 인증 결제로 설정되어 있는 경우 카드사 인증창이 나타납니다.
  * 상점아이디가 비인증 또는 구인증으로 설정되어 있는 경우 카드정보 입력창이 나타납니다.
* 신용카드 빌키(billKey)를 내려받고자 하는 경우, 빌키서비스를 별도 신청하셔야 합니다
* 빌키를 발급받은 경우, 해당 빌키로 2회차 결제 API 요청하시면 됩니다.
* ※ 매출전표의 발행금액은 가맹점에서 전송하는 파라미터를 기준으로 표기되니 주의하시기 바랍니다.

## API 정보

- **URL**: `/card/main.do`
- **Method**: `POST`
- **Content-Type**: `application/x-www-form-urlencoded`

## 요청 파라미터

### params 객체

























### data 객체



































## 해쉬 생성 방법

해쉬값은 다음 순서로 조합하여 SHA256으로 생성합니다:

```
상점아이디 + 결제수단 + 상점주문번호 + 요청일자 + 요청시간 + 거래금액(평문) + 해쉬키
```

## 응답 파라미터

### 성공 응답

#### params 객체





























#### data 객체



### 실패 응답

#### params 객체







#### data 객체

실패 시에는 data 객체가 비어있습니다.

## 노티 전문

거래가 정상적으로 완료되면, 헥토파이낸셜에서 가맹점으로 노티(결과통보) 메세지가 전송됩니다.

### 노티 응답

가맹점에서 헥토파이낸셜로 응답을 전송해야 합니다:

| 응답 | 설명 |
|------|------|
| "OK" | 성공시 (대문자) |
| "FAIL" | 실패시 (대문자, FAIL로 응답시 명확한 실패로 인식합니다. 노티가 재전송 됩니다.) |
| 그 외 | 비정상 실패로 인식하여, 설정된 횟수만큼 노티 재발송 처리함. |

## WebView 설정

### 안드로이드

WebViewClient 클래스의 shouldOverrideUrlLoading 메소드를 재정의하여 외부 앱 호출을 처리합니다.

### iOS

URL Scheme 설정을 위해 plist 파일에 `LSApplicationQueriesSchemes key`에 App Schema를 등록해야 합니다.

## 에러 코드

자세한 에러 코드는 [거절 코드 표](/docs/api/pg/credit-card/error-codes)를 참고하세요.
